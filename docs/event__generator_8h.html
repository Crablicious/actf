<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>actf: event_generator.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">actf<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">A cute acute CTF reader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('event__generator_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">event_generator.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Event generator API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="event_8h_source.html">event.h</a>&quot;</code><br />
</div>
<p><a href="event__generator_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:actf_5Fevent_5Fgenerator" id="r_actf_5Fevent_5Fgenerator"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structactf__event__generator.html">actf_event_generator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An event generator.  <a href="structactf__event__generator.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8618637cb58d8d8ab205c5db8968e0f0" id="r_a8618637cb58d8d8ab205c5db8968e0f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8618637cb58d8d8ab205c5db8968e0f0">ACTF_DEFAULT_EVS_CAP</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a8618637cb58d8d8ab205c5db8968e0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default capacity of an event array.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acd0b2bd77a52ab3ff72072b69ac9a45e" id="r_acd0b2bd77a52ab3ff72072b69ac9a45e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd0b2bd77a52ab3ff72072b69ac9a45e">actf_event_generate</a>) (void *self, <a class="el" href="event_8h.html#a4fe1e25af51836556a91886a31b7a4e9">actf_event</a> ***evs, size_t *evs_len)</td></tr>
<tr class="memdesc:acd0b2bd77a52ab3ff72072b69ac9a45e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate events.  <br /></td></tr>
<tr class="memitem:abf4934ff63dc2f8aacb6f90e47b97fd3" id="r_abf4934ff63dc2f8aacb6f90e47b97fd3"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf4934ff63dc2f8aacb6f90e47b97fd3">actf_seek_ns_from_origin</a>) (void *self, int64_t tstamp)</td></tr>
<tr class="memdesc:abf4934ff63dc2f8aacb6f90e47b97fd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek to the specified timestamp in the event stream.  <br /></td></tr>
<tr class="memitem:aee02d78fdc0e5c76f0905267571a4c98" id="r_aee02d78fdc0e5c76f0905267571a4c98"><td class="memItemLeft" align="right" valign="top">typedef const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee02d78fdc0e5c76f0905267571a4c98">actf_last_error</a>) (void *self)</td></tr>
<tr class="memdesc:aee02d78fdc0e5c76f0905267571a4c98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last error message of a generator function.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a492934f49975532007da7b0cbaa42fee" id="r_a492934f49975532007da7b0cbaa42fee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="event_8h.html#a4fe1e25af51836556a91886a31b7a4e9">actf_event</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a492934f49975532007da7b0cbaa42fee">actf_event_arr_alloc</a> (size_t evs_cap)</td></tr>
<tr class="memdesc:a492934f49975532007da7b0cbaa42fee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an event array with provided capacity.  <br /></td></tr>
<tr class="memitem:ae1ef981074c4af1b7f28c9c0cd980221" id="r_ae1ef981074c4af1b7f28c9c0cd980221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1ef981074c4af1b7f28c9c0cd980221">actf_event_arr_free</a> (<a class="el" href="event_8h.html#a4fe1e25af51836556a91886a31b7a4e9">actf_event</a> **evs)</td></tr>
<tr class="memdesc:ae1ef981074c4af1b7f28c9c0cd980221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an event array.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Event generator API. </p>
<p>Event generators are the basic building blocks of actf that are hooked together to produce events, combine generators or perform filtering on events. </p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a8618637cb58d8d8ab205c5db8968e0f0" name="a8618637cb58d8d8ab205c5db8968e0f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8618637cb58d8d8ab205c5db8968e0f0">&#9670;&#160;</a></span>ACTF_DEFAULT_EVS_CAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACTF_DEFAULT_EVS_CAP&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default capacity of an event array. </p>
<p>Napkin math for 32 data stream files:</p><ul>
<li>40 bytes per <a class="el" href="types_8h.html#a3a40fac1346cb57619f76e1e4b9f4970" title="A field.">actf_fld</a></li>
<li>16 fields per message allocated up front</li>
<li>40 * 16 = 640 bytes per event allocated per data stream file</li>
<li>640 * 32 data stream = 20480 bytes per event for 32 data stream files</li>
<li>20480 * 64 = 1310720 bytes = 1280 K = 1.25 M total for 32 data stream files each having 64 events per buffer </li>
</ul>

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="acd0b2bd77a52ab3ff72072b69ac9a45e" name="acd0b2bd77a52ab3ff72072b69ac9a45e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd0b2bd77a52ab3ff72072b69ac9a45e">&#9670;&#160;</a></span>actf_event_generate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* actf_event_generate) (void *self, <a class="el" href="event_8h.html#a4fe1e25af51836556a91886a31b7a4e9">actf_event</a> ***evs, size_t *evs_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate events. </p>
<p>A generator will write events up to its event capacity and provide a pointer to the array holding them. An <a class="el" href="#acd0b2bd77a52ab3ff72072b69ac9a45e" title="Generate events.">actf_event_generate()</a> must not return both events and an error code. On error, any valid events should be returned and then on the next call, the error is returned.</p>
<p>The generator owns the events and any returned events (or their fields) are invalid after the next <a class="el" href="#acd0b2bd77a52ab3ff72072b69ac9a45e" title="Generate events.">actf_event_generate()</a> call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the generator's self parameter </td></tr>
    <tr><td class="paramname">evs</td><td>a pointer to be populated with an event array </td></tr>
    <tr><td class="paramname">evs_len</td><td>a pointer to be populated with the number of events in the event array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ACTF_OK on success or an error code. On error, see <a class="el" href="#aee02d78fdc0e5c76f0905267571a4c98" title="Get the last error message of a generator function.">actf_last_error()</a>. </dd></dl>

</div>
</div>
<a id="abf4934ff63dc2f8aacb6f90e47b97fd3" name="abf4934ff63dc2f8aacb6f90e47b97fd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4934ff63dc2f8aacb6f90e47b97fd3">&#9670;&#160;</a></span>actf_seek_ns_from_origin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* actf_seek_ns_from_origin) (void *self, int64_t tstamp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seek to the specified timestamp in the event stream. </p>
<p>Any events previously returned by an <a class="el" href="#acd0b2bd77a52ab3ff72072b69ac9a45e" title="Generate events.">actf_event_generate()</a> are invalid after calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the generator's self parameter </td></tr>
    <tr><td class="paramname">tstamp</td><td>the nanosecond from origin timestamp to seek to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ACTF_OK on success or an error code. On error, see <a class="el" href="#aee02d78fdc0e5c76f0905267571a4c98" title="Get the last error message of a generator function.">actf_last_error()</a>. </dd></dl>

</div>
</div>
<a id="aee02d78fdc0e5c76f0905267571a4c98" name="aee02d78fdc0e5c76f0905267571a4c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee02d78fdc0e5c76f0905267571a4c98">&#9670;&#160;</a></span>actf_last_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const char *(* actf_last_error) (void *self)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last error message of a generator function. </p>
<p>A failing generator function can store the most recent error and return it through this function. The returned string is handled internally, should not be freed, and might be overwritten or freed on subsequent API calls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>the generator's self parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the last error message or NULL </dd></dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a492934f49975532007da7b0cbaa42fee" name="a492934f49975532007da7b0cbaa42fee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a492934f49975532007da7b0cbaa42fee">&#9670;&#160;</a></span>actf_event_arr_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="event_8h.html#a4fe1e25af51836556a91886a31b7a4e9">actf_event</a> ** actf_event_arr_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>evs_cap</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an event array with provided capacity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">evs_cap</td><td>the event capacity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an event array or NULL with errno set. A returned array should be freed with <a class="el" href="#ae1ef981074c4af1b7f28c9c0cd980221" title="Free an event array.">actf_event_arr_free()</a>. </dd></dl>

</div>
</div>
<a id="ae1ef981074c4af1b7f28c9c0cd980221" name="ae1ef981074c4af1b7f28c9c0cd980221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ef981074c4af1b7f28c9c0cd980221">&#9670;&#160;</a></span>actf_event_arr_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void actf_event_arr_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8h.html#a4fe1e25af51836556a91886a31b7a4e9">actf_event</a> **</td>          <td class="paramname"><span class="paramname"><em>evs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an event array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">evs</td><td>the event array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="event__generator_8h.html">event_generator.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
