
  {
    "type": "preamble",
    "version": 2
  }
  
  {
    "type": "data-stream-class"
  }
  
  {
    "type": "event-record-class",
    "name": "32-element static array",
    "payload-field-class": {
      "type": "structure",
      "member-classes": [
        {
          "name": "outer array len",
          "field-class": {
            "type": "fixed-length-unsigned-integer",
            "length": 32,
            "byte-order": "little-endian"
          }
        },
        {
          "name": "my dyn struct array",
          "field-class": {
            "type": "dynamic-length-array",
            "length-field-location": {
              "origin": "event-record-payload",
              "path": ["outer array len"]
            },
            "minimum-alignment": 32,
            "element-field-class": {
              "type": "structure",
              "member-classes": [
                {
                  "name": "array len",
                  "field-class": {
                    "type": "fixed-length-unsigned-integer",
                    "length": 32,
                    "byte-order": "little-endian"
                  }
                },
                {
                  "name": "my inner dyn array",
                  "field-class": {
                    "type": "dynamic-length-string",
                    "length-field-location": {
                      "origin": "event-record-payload",
                      "path": ["my dyn struct array", "array len"]
                    }
                  }
                }
              ]
            }
          }
        },
        {
          "name": "my illegal outer dyn array",
          "field-class": {
            "type": "dynamic-length-string",
            "length-field-location": {
              "origin": "event-record-payload",
              "path": ["my dyn struct array", "array len"]
            }
          }
        }
      ]
    }
  }
